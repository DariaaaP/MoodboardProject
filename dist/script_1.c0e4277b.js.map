{"version":3,"sources":["scripts/script_1.js"],"names":["document","addEventListener","event","form","querySelector","inputName","formSend","e","preventDefault","error","formValidate","formData","FormData","localStorage","setItem","value","classList","add","fetch","method","body","response","ok","json","result","console","log","reset","remove","location","href","alert","formReq","querySelectorAll","index","length","input","formRemoveError","contains","emailTest","formAddError","getAttribute","checked","test"],"mappings":"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","file":"script_1.c0e4277b.js","sourceRoot":"..","sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function(event) {\n    let form = document.querySelector('#form');\n    let inputName = document.querySelector('#formName');\n\n    form.addEventListener('submit', formSend);\n\n    async function formSend(e) {\n        e.preventDefault();\n\n        let error = formValidate(form);\n\n        let formData = new FormData(form);\n\n        localStorage.setItem('namee', inputName.value);\n\n        if (error === 0) {\n            form.classList.add('_sending');\n            let response = await fetch('https://httpbin.org/post', {\n                method: \"POST\",\n                body: formData\n            });\n            if (response.ok){\n                let result = await response.json();\n                console.log(result);\n                form.reset();\n                form.classList.remove('_sending');\n                location.href='index.html';\n            }else{\n                alert(\"Ошибка\");\n                form.classList.remove('_sending');\n            }\n\n        } else {\n            alert('Заполните обязательные поля');\n        }\n    }\n\n    function formValidate(form){\n        let error = 0;\n        let formReq = document.querySelectorAll('._req');\n\n        for (let index = 0; index < formReq.length; index++) {\n            const input = formReq[index];\n            formRemoveError(input);\n\n            if (input.classList.contains('_email')) {\n                if(emailTest(input)){\n                    formAddError(input);\n                    error++;\n                }\n            }else if(input.getAttribute(\"type\") === \"checkbox\" && input.checked === false) {\n                formAddError(input);\n                error++;\n            } else {\n                if (input.value === \"\") {\n                    formAddError(input);\n                    error++;\n                }\n            }\n        }\n        return error;\n    }\n\n    function formAddError(input) {\n        input.classList.add('_error');\n    }\n\n    function formRemoveError(input) {\n        input.classList.remove('_error');\n    }\n\n    function emailTest(input) {\n        return !/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,8})+$/.test(input.value);\n    }\n\n});"]}